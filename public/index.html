<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞–∑–¥–∞—Ç—á–∏–∫ –∫–∞—Ä—Ç –¥–ª—è –ú–∞—Ñ–∏–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f0f0;
        }
        
        .screen {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .hidden {
            display: none;
        }
        
        h2 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        
        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        
        button:hover {
            background: #45a049;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .player-list {
            margin: 20px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        
        .player {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .role {
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .role-mafia { background: #ffcccc; color: #cc0000; }
        .role-civilian { background: #cce5ff; color: #0066cc; }
        .role-sheriff { background: #ccffcc; color: #006600; }
        .role-doctor { background: #e6ccff; color: #6600cc; }
        .role-don { background: #ffcc99; color: #cc6600; }
        
        .error {
            background: #ffcccc;
            color: #cc0000;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .success {
            background: #ccffcc;
            color: #006600;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .controls button {
            flex: 1;
        }
        
        .room-code {
            font-size: 1.5em;
            font-weight: bold;
            color: #4CAF50;
            text-align: center;
            margin: 20px 0;
        }
        
        .role-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }
        
        .role-option {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
        }
        
        .role-option.selected {
            border-color: #4CAF50;
            background: #f0fff0;
        }
        
        .counter {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }
        
        .counter button {
            width: 30px;
            height: 30px;
            padding: 0;
        }
        
        .counter span {
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="main-screen" class="screen">
        <h2>üé≠ –†–∞–∑–¥–∞—Ç—á–∏–∫ –∫–∞—Ä—Ç –¥–ª—è –ú–∞—Ñ–∏–∏</h2>
        <button onclick="showCreateScreen()">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
        <button onclick="showJoinScreen()">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
    </div>
    
    <div id="create-screen" class="screen hidden">
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã</h2>
        
        <input type="text" id="host-name" placeholder="–í–∞—à–µ –∏–º—è" maxlength="20">
        
        <select id="player-count">
            <option value="6">6 –∏–≥—Ä–æ–∫–æ–≤</option>
            <option value="7">7 –∏–≥—Ä–æ–∫–æ–≤</option>
            <option value="8" selected>8 –∏–≥—Ä–æ–∫–æ–≤</option>
            <option value="9">9 –∏–≥—Ä–æ–∫–æ–≤</option>
            <option value="10">10 –∏–≥—Ä–æ–∫–æ–≤</option>
        </select>
        
        <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª–∏:</h3>
        <div id="role-selection">
            <!-- –†–æ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
        
        <div class="counter">
            <div>–í—ã–±—Ä–∞–Ω–æ: <span id="selected-count">0</span>/<span id="total-count">8</span></div>
            <button onclick="autoBalance()">–ê–≤—Ç–æ–±–∞–ª–∞–Ω—Å</button>
        </div>
        
        <button onclick="createRoom()">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
        <button onclick="showMainScreen()">–ù–∞–∑–∞–¥</button>
    </div>
    
    <div id="join-screen" class="screen hidden">
        <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ</h2>
        
        <input type="text" id="player-name" placeholder="–í–∞—à–µ –∏–º—è" maxlength="20">
        <input type="text" id="room-code-input" placeholder="–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã (4 –±—É–∫–≤—ã)" maxlength="4" style="text-transform: uppercase;">
        
        <button onclick="joinRoom()">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        <button onclick="showMainScreen()">–ù–∞–∑–∞–¥</button>
    </div>
    
    <div id="game-screen" class="screen hidden">
        <h2>–ö–æ–º–Ω–∞—Ç–∞: <span id="room-name-display"></span></h2>
        <div class="room-code" id="room-code-display"></div>
        
        <div id="error-message" class="error hidden"></div>
        <div id="success-message" class="success hidden"></div>
        
        <h3>–ò–≥—Ä–æ–∫–∏:</h3>
        <div id="players-list" class="player-list">
            <!-- –ò–≥—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
        
        <div id="host-controls" class="controls hidden">
            <button id="deal-btn" onclick="dealRoles()">–†–∞–∑–¥–∞—Ç—å —Ä–æ–ª–∏</button>
            <button id="reveal-btn" onclick="revealRoles()" disabled>–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ä–æ–ª–∏</button>
        </div>
        
        <div id="player-info" class="hidden">
            <h3>–í–∞—à–∞ —Ä–æ–ª—å: <span id="your-role"></span></h3>
        </div>
        
        <button onclick="leaveRoom()">–í—ã–π—Ç–∏ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã</button>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
